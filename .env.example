# ==============================================================================
# DISTRIBUTED LAKEHOUSE - Environment Variables
# ==============================================================================
# Copy this file to .env and adjust values if needed

# ------------------------------------------------------------------------------
# MinIO (S3-compatible storage)
# ------------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ENDPOINT=minio:9000
MINIO_CONSOLE_PORT=9001
MINIO_API_PORT=9000

# Buckets
MINIO_BUCKET_RAW=raw
MINIO_BUCKET_WAREHOUSE=warehouse

# ------------------------------------------------------------------------------
# PostgreSQL - Metastore
# ------------------------------------------------------------------------------
POSTGRES_METASTORE_USER=hive
POSTGRES_METASTORE_PASSWORD=hive123
POSTGRES_METASTORE_DB=metastore
POSTGRES_METASTORE_PORT=5432

# ------------------------------------------------------------------------------
# PostgreSQL - Airflow
# ------------------------------------------------------------------------------
POSTGRES_AIRFLOW_USER=airflow
POSTGRES_AIRFLOW_PASSWORD=airflow123
POSTGRES_AIRFLOW_DB=airflow
POSTGRES_AIRFLOW_PORT=5433

# ------------------------------------------------------------------------------
# Hive Metastore
# ------------------------------------------------------------------------------
HIVE_METASTORE_PORT=9083
HIVE_METASTORE_WAREHOUSE_DIR=s3a://warehouse/hive/

# ------------------------------------------------------------------------------
# Trino
# ------------------------------------------------------------------------------
TRINO_COORDINATOR_PORT=8080
TRINO_ENVIRONMENT=production
TRINO_MEMORY_HEAP_SIZE=2G
TRINO_QUERY_MAX_MEMORY=2GB
TRINO_QUERY_MAX_MEMORY_PER_NODE=1GB

# ------------------------------------------------------------------------------
# Airflow
# ------------------------------------------------------------------------------
AIRFLOW_WEBSERVER_PORT=8081
AIRFLOW_UID=50000
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=True
AIRFLOW__WEBSERVER__SECRET_KEY=change_this_secret_key_in_production

# ------------------------------------------------------------------------------
# NYC Taxi Ingestion
# ------------------------------------------------------------------------------
# Sample fraction: 1.0 = full data, 0.05 = 5% sample (faster for demos)
NYC_TAXI_SAMPLE_FRACTION=0.05
NYC_TAXI_YEAR=2023
NYC_TAXI_MONTH=01
NYC_TAXI_COLOR=yellow

# ------------------------------------------------------------------------------
# dbt
# ------------------------------------------------------------------------------
DBT_PROFILES_DIR=/opt/airflow/dbt
DBT_PROJECT_DIR=/opt/airflow/dbt
DBT_TARGET=dev

# ------------------------------------------------------------------------------
# Network
# ------------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=lakehouse
